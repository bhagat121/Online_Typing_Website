var easy_words=['i', 'm', 'p', 'o', 'r', 't', ' ', 'j', 'a', 'v', 'a', '.', 'i', 'o', '.', '*', ';', 'i', 'm', 'p', 'o', 'r', 't', ' ', 'j', 'a', 'v', 'a', 'x', '.', 's', 'e', 'r', 'v', 'l', 'e', 't', '.', '*', ';', 'i', 'm', 'p', 'o', 'r', 't', ' ', 'j', 'a', 'v', 'a', 'x', '.', 's', 'e', 'r', 'v', 'l', 'e', 't', '.', 'a', 'n', 'n', 'o', 't', 'a', 't', 'i', 'o', 'n', '.', 'W', 'e', 'b', 'S', 'e', 'r', 'v', 'l', 'e', 't', ';', 'i', 'm', 'p', 'o', 'r', 't', ' ', 'j', 'a', 'v', 'a', 'x', '.', 's', 'e', 'r', 'v', 'l', 'e', 't', '.', 'h', 't', 't', 'p', '.', '*', ';', '@', 'W', 'e', 'b', 'S', 'e', 'r', 'v', 'l', 'e', 't', '(', "'", '/', 'S', 'e', 'r', 'v', 'l', 'e', 't', '9', "'", ')', 'p', 'u', 'b', 'l', 'i', 'c', ' ', 'c', 'l', 'a', 's', 's', ' ', 'S', 'e', 'r', 'v', 'l', 'e', 't', '9', ' ', 'e', 'x', 't', 'e', 'n', 'd', 's', ' ', 'H', 't', 't', 'p', 'S', 'e', 'r', 'v', 'l', 'e', 't', '{', 'p', 'r', 'o', 't', 'e', 'c', 't', 'e', 'd', ' ', 'v', 'o', 'i', 'd', ' ', 'd', 'o', 'P', 'o', 's', 't', '(', 'H', 't', 't', 'p', 'S', 'e', 'r', 'v', 'l', 'e', 't', 'R', 'e', 'q', 'u', 'e', 's', 't', ' ', 'r', 'e', 'q', 'u', 'e', 's', 't', ',', 'H', 't', 't', 'p', 'S', 'e', 'r', 'v', 'l', 'e', 't', 'R', 'e', 's', 'p', 'o', 'n', 's', 'e', ' ', 'r', 'e', 's', 'p', 'o', 'n', 's', 'e', ')', 't', 'h', 'r', 'o', 'w', 's', ' ', 'S', 'e', 'r', 'v', 'l', 'e', 't', 'E', 'x', 'c', 'e', 'p', 't', 'i', 'o', 'n', ',', ' ', 'I', 'O', 'E', 'x', 'c', 'e', 'p', 't', 'i', 'o', 'n', '{', 'r', 'e', 's', 'p', 'o', 'n', 's', 'e', '.', 's', 'e', 't', 'C', 'o', 'n', 't', 'e', 'n', 't', 'T', 'y', 'p', 'e', '(', "'", 't', 'e', 'x', 't', '/', 'h', 't', 'm', 'l', "'", ')', ';', 'P', 'r', 'i', 'n', 't', 'W', 'r', 'i', 't', 'e', 'r', ' ', 'o', 'u', 't', ' ', '=', ' ', 'r', 'e', 's', 'p', 'o', 'n', 's', 'e', '.', 'g', 'e', 't', 'W', 'r', 'i', 't', 'e', 'r', '(', ')', ';', 'S', 't', 'r', 'i', 'n', 'g', ' ', 's', 't', 'r', ' ', '=', ' ', 'r', 'e', 'q', 'u', 'e', 's', 't', '.', 'g', 'e', 't', 'P', 'a', 'r', 'a', 'm', 'e', 't', 'e', 'r', '(', "'", 'u', 'n', 'a', 'm', 'e', "'", ')', ';', 'S', 't', 'r', 'i', 'n', 'g', ' ', 's', 't', 'r', '1', ' ', '=', ' ', 'r', 'e', 'q', 'u', 'e', 's', 't', '.', 'g', 'e', 't', 'P', 'a', 'r', 'a', 'm', 'e', 't', 'e', 'r', '(', "'", 'p', 'n', 'a', 'm', 'e', "'", ')', ';', 'o', 'u', 't', '.', 'p', 'r', 'i', 'n', 't', 'l', 'n', '(', "'", '<', 'h', 't', 'm', 'l', '>', "'", ')', ';', 'o', 'u', 't', '.', 'p', 'r', 'i', 'n', 't', 'l', 'n', '(', "'", '<', 'b', 'o', 'd', 'y', '>', "'", ')', ';', 'o', 'u', 't', '.', 'p', 'r', 'i', 'n', 't', 'l', 'n', '(', "'", 'U', 's', 'e', 'r', 'n', 'a', 'm', 'e', ' ', 'i', 's', ':', "'", ' ', '+', ' ', 's', 't', 'r', ' ', '+', ' ', "'", '<', 'b', 'r', '/', '>', "'", ')', ';', 'o', 'u', 't', '.', 'p', 'r', 'i', 'n', 't', 'l', 'n', '(', "'", 'P', 'a', 's', 's', 'w', 'o', 'r', 'd', ' ', 'i', 's', ':', "'", ' ', '+', ' ', 's', 't', 'r', '1', ')', ';', 'o', 'u', 't', '.', 'p', 'r', 'i', 'n', 't', 'l', 'n', '(', "'", '<', '/', 'b', 'o', 'd', 'y', '>', "'", ')', ';', 'o', 'u', 't', '.', 'p', 'r', 'i', 'n', 't', 'l', 'n', '(', "'", '<', '/', 'h', 't', 'm', 'l', '>', "'", ')', ';', '}', '}']

var count=0;
var correct=0;
var incorrect=0;
var total_letter=0;
var tot_word_width=0;
var timeleft=0;
var start;
    /*var timeleft=60;
    var total_time=60;
    var wpm;*/
$(window).one('keypress', function(){
    start=new Date().getTime();
});
    $(window).on('keypress', function(e) {
                  if(count!=626){
                    $("body").css({"overflow":"hidden"})
                  }
                  var pressed_key=String.fromCharCode(e.keyCode);
                  if(easy_words[count].trim()==pressed_key.trim()){
                          total_letter+=easy_words[count].trim().length;
                          $( "#"+count).removeClass("highliter");
                          $( "#"+count).toggleClass( "right");
                          correct++;
                  }
                  else{
                          $( "#"+count).removeClass("highliter");
                          $( "#"+count).toggleClass("wrong");
                          incorrect++;
                  }
                  count++;
                  $( "#"+count).toggleClass( "highliter");
                  var xpos = $("#"+count).offset();
                  var top_pos = xpos.top;
                  count--;
                  var sec_xpos = $("#"+count).offset();
                  var sec_top_pos = sec_xpos.top;
                  count++;
                  if(parseInt(top_pos)>parseInt(sec_top_pos)){
                  document.getElementById("words_container").scrollTop+=26;
                  tot_word_width=0;
                  }
                  if(count==626){
                    $("#words_container").css({"background-color":"rgb(128, 176, 255,0.1)"})
                    $(".right").css({"color":"black"})
                    $("body").css({"overflow":"scroll"})
                    $("#result").show();
                    var end=new Date().getTime();
                    var timeleft=end-start;
                    timeleft=timeleft/1000
                    var minutes = Math.floor(timeleft / 60);
                    var seconds = timeleft - minutes * 60;
                    var wpm_fake=correct/5;
                    var sec_to_dec=seconds/60;
                    minutes+=sec_to_dec;
                    wpm=wpm_fake/minutes;
                    setTimeout(
                    function()
                    {
                      //do something special
                      document.getElementById("result").innerHTML += "Typing Summary<br><br>"+"Time Elapsed:&emsp; &emsp;"
                      +parseInt(minutes)+":"+parseInt(seconds)+"<br><br>"+"Total Typeable letters:&emsp; &emsp;"+parseInt(count)+"<br><br>"+
                      "Correct letters typed:&emsp; &emsp;"+parseInt(correct)+"<br><br>"+"Incorrect Letters:&emsp; &emsp;"+
                      incorrect+"<br><br>"+"Words per minute:&emsp; &emsp;"+parseInt(wpm);
                      $(window).scrollTop($('#626').offset().top);
                    }, 1000);
                  }

    });
$('#home').click(function(){
  window.location.href = "index.html"
});
$('#Restart').click(function(){
    location.reload();
});
$('#result').click(function(){
    location.reload();
});
